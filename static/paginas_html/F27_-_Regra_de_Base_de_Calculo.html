<html>
<head><meta charset="UTF-8"><title>Tabela: F27 - Regra de Base de Calculo</title></head>
<body>
<font color="orange"><h2 id="F27">Tabela: F27 - Regra de Base de Calculo</h2><br> Arquivos atualizado em 08/12/2020, com pacotes até 04/12/2020</font>
<br>
<br><table border="1">
<tr><td colspan="5" align="center"><b><i>Tabela(SX2)</i></b></td></tr><tr><td colspan="2"><b>X2_NOME</b></td><td colspan="2"><b>X2_UNICO</b></td><td><b>X2_SYSOBJ</b></td></tr><tr><td colspan="2"><b>Regra de Base de Calculo</b></td><td colspan="2"><b>F27_FILIAL+F27_CODIGO+F27_ALTERA+F27_ID</b></td><td><b></b></td></tr></table>
<br>
<hr>
<br>
<br><table border="1">
<tr><td colspan="5" align="center"><b><i>Indices(SIX)</i></b></td></tr><tr><td><b>Ordem</b></td><td colspan="2"><b>Chave</b></td><td><b>Descrição</b></td><td><b>NickName</b></td></tr><tr><td>1</td><td colspan="2">F27_FILIAL+F27_CODIGO+F27_ALTERA+F27_ID</td><td>Cód. Regra + Alterado + Id</td><td></td></tr>
<tr><td>2</td><td colspan="2">F27_FILIAL+F27_DESC</td><td>Descrição</td><td></td></tr>
<tr><td>3</td><td colspan="2">F27_FILIAL+F27_ID</td><td>Id</td><td></td></tr>
<tr><td>4</td><td colspan="2">F27_ID</td><td>Id</td><td></td></tr>
</table>
<br>
<hr>
<br>
<br>
<hr>
<br>
<br><table border="1">
<tr>
<td colspan="24" align="center"><b><i>Campos(SX3)</i></b></td>
</tr>
<tr>
<td><b>X3_CAMPO</b></td>
<td><b>X3_TITULO</b></td>
<td colspan="2"><b>X3_DESCRIC</b></td>
<td colspan="4"><b>HELP Campo</b></td>
<td><b>X3_TIPO</b></td>
<td><b>X3_TAMANHO</b></td>
<td><b>X3_DECIMAL</b></td>
<td><b>X3_PICTURE</b></td>
<td><b>X3_VALID</b></td>
<td><b>X3_RELACAO</b></td>
<td><b>X3_F3</b></td>
<td><b>X3_TRIGGER</b></td>
<td><b>X3_BROWSE</b></td>
<td><b>X3_VISUAL</b></td>
<td><b>X3_CONTEXT</b></td>
<td><b>X3_CBOX</b></td>
<td><b>X3_WHEN</b></td>
<td><b>X3_INIBRW</b></td>
<td><b>X3_GRPSXG</b></td>
<td><b>X3_FOLDER</b></td>
<td><b>X3_CONDSQL</b></td>
<td><b>X3_CHKSQL</b></td>
<td><b>X3_AGRUP</b></td>
<td><b>X3_POSLGT</b></td>
<td><b>X3_MODAL</b></td>
</tr>
<tr>
<td>F27_FILIAL</td>
<td>Filial</td>
<td colspan="2">Filial do Sistema</td>
<td colspan="4">Filial do sistema.
</td>
<td>C</td>
<td>2</td>
<td>0</td>
<td>                                             </td>
<td></td>
<td></td>
<td><a href="/tabelas_protheus/f3/.html"></a></td>
<td> </td>
<td>Sim</td>
<td>Vizualiza</td>
<td>Real</td>
<td></td>
<td></td>
<td></td>
<td><a href="/tabelas_protheus/grupocampo/033.html">033</a></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>F27_CODIGO</td>
<td>Cód. Regra</td>
<td colspan="2">Cód. Regra Base Cálculo</td>
<td colspan="4">Código da regra de composição da base de
cálculo do Tributo. Este código será
utilizado posteriormente na composição
da regra de cálculo do tributo genérico.
</td>
<td>C</td>
<td>6</td>
<td>0</td>
<td>                                             </td>
<td></td>
<td></td>
<td><a href="/tabelas_protheus/f3/.html"></a></td>
<td> </td>
<td>Sim</td>
<td>Altera</td>
<td>Real</td>
<td></td>
<td></td>
<td></td>
<td><a href="/tabelas_protheus/grupocampo/139.html">139</a></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>F27_DESC</td>
<td>Descrição</td>
<td colspan="2">Descrição da Regra</td>
<td colspan="4">Descrição da regra de base de cálculo.
</td>
<td>C</td>
<td>100</td>
<td>0</td>
<td>@!                                           </td>
<td></td>
<td></td>
<td><a href="/tabelas_protheus/f3/.html"></a></td>
<td> </td>
<td>Sim</td>
<td>Altera</td>
<td>Real</td>
<td></td>
<td></td>
<td></td>
<td><a href="/tabelas_protheus/grupocampo/.html"></a></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>F27_VALORI</td>
<td>Valor Origem</td>
<td colspan="2">Valor de Origem</td>
<td colspan="4">Neste campo deverá ser definido qual o
valor origem que definirá a base de
cálculo desta regra.
01=Valor da Mercadoria - Indica que o
valor total da mercadoria informado no
item da nota fiscal será considerado
como valor de origem da base de cálculo;
02=Quantidade - Indica que a quantidade
informada no item da nota fiscal será
considerado como valor de origem da base
de cálculo, nessa opção deverá ser
informada uma unidade de medida no
detalhamento da base de cálculo por
quantidade;
03=Valor Contábil - Indica que o valor
contábil calculado no item da nota
fiscal será considerado como valor de
origem da base de cálculo;
04=Valor do Crédito Presumido - Indica
que o Crédito Presumido calculado no
item da nota fiscal será considerado
como valor de origem da base de cálculo;
05=Base de ICMS - Indica que a base de
ICMS calculado no item da nota fiscal
será considerado como valor de origem da
base de cálculo;
06=Base Original do ICMS - Indica que a
base original do ICMS calculado no item
da nota fiscal será considerado como
valor de origem da base de cálculo. A
base original de ICMS não possui
reduções;
07=Valor do ICMS - Indica que o valor do
ICMS calculado no item da nota fiscal
será considerado como valor de origem da
base de cálculo;
08=Valor do Frete - Indica que o valor
do Frete do item da nota fiscal será
considerado como valor de origem para a
base de cálculo;
09=Valor da Duplicata - Indica que o
valor da duplicata do item da nota
fiscal será considerada como valor de
origem para a base de cálculo;
10=Valor total do Item - Indica que o
valor tota do item da nota fiscal será
considerado como valor de origem da base
de calculo;
</td>
<td>C</td>
<td>2</td>
<td>0</td>
<td>@!                                           </td>
<td></td>
<td></td>
<td><a href="/tabelas_protheus/f3/.html"></a></td>
<td><a href="/tabelas_protheus/gatilhos/f27_valori.html">S</td>
<td>Sim</td>
<td>Altera</td>
<td>Real</td>
<td>#FSA161VORI()</td>
<td></td>
<td></td>
<td><a href="/tabelas_protheus/grupocampo/.html"></a></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>F27_DESCON</td>
<td>Desconto</td>
<td colspan="2">Ações do Desconto</td>
<td colspan="4">Informe neste campo se o valor do
desconto deverá ter alguma ação sobre o
valor de origem.
1=Sem ação - O valor do desconto não
será subtraído ou somado do valor de
origem da base de cálculo;
2=Subtrai - O valor do desconto será
subtraído do valor de origem da base de
cálculo;
3=Soma - O valor do desocnto será somado
no valor de origem da base de cálculo;
</td>
<td>C</td>
<td>1</td>
<td>0</td>
<td>@!                                           </td>
<td></td>
<td>"1"</td>
<td><a href="/tabelas_protheus/f3/.html"></a></td>
<td> </td>
<td>Nao</td>
<td>Altera</td>
<td>Real</td>
<td>1=Sem A��o;2=Subtrai;3=Soma</td>
<td></td>
<td></td>
<td><a href="/tabelas_protheus/grupocampo/.html"></a></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>F27_FRETE</td>
<td>Frete</td>
<td colspan="2">Ações do valor do frete</td>
<td colspan="4">Informe neste campo se o valor do frete
deverá ter alguma ação sobre o valor de
origem.
1=Sem Ação - O valor do frete não será
subtraído ou somado no valor de origem
da base de cálculo;
2=Subtrai - O valor do frete será
subtraído do valor de origem da base de
cálculo;
3=Soma - O valor do frete será somado no
valor de origem da base de cálculo;
</td>
<td>C</td>
<td>1</td>
<td>0</td>
<td>@!                                           </td>
<td></td>
<td>"1"</td>
<td><a href="/tabelas_protheus/f3/.html"></a></td>
<td> </td>
<td>Nao</td>
<td>Altera</td>
<td>Real</td>
<td>1=Sem A��o;2=Subtrai;3=Soma</td>
<td></td>
<td></td>
<td><a href="/tabelas_protheus/grupocampo/.html"></a></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>F27_SEGURO</td>
<td>Seguro</td>
<td colspan="2">Ações do valor de Seguro</td>
<td colspan="4">Informe neste campo se o valor do seguro
deverá ter alguma ação sobre o valor de
origem.
1=Sem Ação - O valor do seguro não será
subtraído ou somado no valor de origem
da base de cálculo;
2=Subtrai - O valor do seguro será
subtraído do valor de origem da base de
cálculo;
3=Soma - O valor do seguro será somado
no valor de origem da base de cálculo;
</td>
<td>C</td>
<td>1</td>
<td>0</td>
<td>@!                                           </td>
<td></td>
<td>"1"</td>
<td><a href="/tabelas_protheus/f3/.html"></a></td>
<td> </td>
<td>Nao</td>
<td>Altera</td>
<td>Real</td>
<td>1=Sem A��o;2=Subtrai;3=Soma</td>
<td></td>
<td></td>
<td><a href="/tabelas_protheus/grupocampo/.html"></a></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>F27_DESPE</td>
<td>Despesas</td>
<td colspan="2">Ações das Despesas</td>
<td colspan="4">Informe neste campo se o valor das
despesas acessórias deverá ter alguma
ação sobre o valor de origem.
1=Sem Ação - O valor das despesas
acessórias não será subtraído ou somado
no valor de origem da base de cálculo;
2=Subtrai - O valor das despesas
acessórias será subtraído do valor de
origem da base de cálculo;
3=Soma - O valor das despesas acessórias
será somado no valor de origem da base
de cálculo;
</td>
<td>C</td>
<td>1</td>
<td>0</td>
<td>@!                                           </td>
<td></td>
<td>"1"</td>
<td><a href="/tabelas_protheus/f3/.html"></a></td>
<td> </td>
<td>Nao</td>
<td>Altera</td>
<td>Real</td>
<td>1=Sem A��o;2=Subtrai;3=Soma</td>
<td></td>
<td></td>
<td><a href="/tabelas_protheus/grupocampo/.html"></a></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>F27_ICMDES</td>
<td>ICMS Deson.</td>
<td colspan="2">Ações ICMS Desonerado</td>
<td colspan="4">Informe neste campo se o valor do icms
desonerado deverá ter alguma ação sobre
o valor de origem.
1=Sem Ação - O valor do icms desonerado
não será subtraído ou somado no valor de
origem da base de cálculo;
2=Subtrai - O valor do icms desonerado
será subtraído do valor de origem da
base de cálculo;
3=Soma - O valor do icms desonerado será
somado no valor de origem da base de
cálculo;
</td>
<td>C</td>
<td>1</td>
<td>0</td>
<td>@!                                           </td>
<td></td>
<td>"1"</td>
<td><a href="/tabelas_protheus/f3/.html"></a></td>
<td> </td>
<td>Nao</td>
<td>Altera</td>
<td>Real</td>
<td>1=Sem A��o;2=Subtrai;3=Soma</td>
<td></td>
<td></td>
<td><a href="/tabelas_protheus/grupocampo/.html"></a></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>F27_ICMRET</td>
<td>ICMS Retido</td>
<td colspan="2">Ações ICMS Retido</td>
<td colspan="4">Informe neste campo se o valor do icms
retido deverá ter alguma ação sobre o
valor de origem.
1=Sem Ação - O valor do icms retido não
será subtraído ou somado no valor de
origem da base de cálculo;
2=Subtrai - O valor do icms retido será
subtraído do valor de origem da base de
cálculo;
3=Soma - O valor do icms retido será
somado no valor de origem da base de
cálculo;
</td>
<td>C</td>
<td>1</td>
<td>0</td>
<td>@!                                           </td>
<td></td>
<td>"1"</td>
<td><a href="/tabelas_protheus/f3/.html"></a></td>
<td> </td>
<td>Nao</td>
<td>Altera</td>
<td>Real</td>
<td>1=Sem A��o;2=Subtrai;3=Soma</td>
<td></td>
<td></td>
<td><a href="/tabelas_protheus/grupocampo/.html"></a></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>F27_REDBAS</td>
<td>% Redução</td>
<td colspan="2">Percentual de redução</td>
<td colspan="4">Informe neste campo o percentual de
redução de base de cálculo se houver.
</td>
<td>N</td>
<td>6</td>
<td>3</td>
<td>@E 99.999                                    </td>
<td>Positivo()</td>
<td></td>
<td><a href="/tabelas_protheus/f3/.html"></a></td>
<td><a href="/tabelas_protheus/gatilhos/f27_redbas.html">S</td>
<td>Nao</td>
<td>Altera</td>
<td>Real</td>
<td></td>
<td></td>
<td></td>
<td><a href="/tabelas_protheus/grupocampo/.html"></a></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>F27_TPRED</td>
<td>Tipo Redução</td>
<td colspan="2">Tipo da redução</td>
<td colspan="4">Para as situações com redução de base de
cálculo, deverá ser informado neste
campo o momento em que a redução
ocorrerá.
1=Reduz antes das adições/reduções -
Para esta opção o momento de reduzir a
base de cálculo será antes de aplicar as
adições e reduções;
2=Reduz depois das adições/reduções -
Para esta opção o momento de reduzir a
base de cálculo será depois de aplicar
as adições e reduções;
</td>
<td>C</td>
<td>1</td>
<td>0</td>
<td>@!                                           </td>
<td></td>
<td></td>
<td><a href="/tabelas_protheus/f3/.html"></a></td>
<td> </td>
<td>Nao</td>
<td>Altera</td>
<td>Real</td>
<td>1=Reduz antes das adi��es/dedu��es;2=Reduz depois das adi��es/dedu��es</td>
<td></td>
<td></td>
<td><a href="/tabelas_protheus/grupocampo/.html"></a></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>F27_UM</td>
<td>Unidade</td>
<td colspan="2">Unidade de medida</td>
<td colspan="4">Indique a unidade de medida que se
refere a quantidade selecionada como
valor de origem da base de cálculo.
</td>
<td>C</td>
<td>2</td>
<td>0</td>
<td>                                             </td>
<td>Vazio() .or. ExistCpo("SAH")</td>
<td></td>
<td><a href="/tabelas_protheus/f3/sah.html">SAH</a></td>
<td><a href="/tabelas_protheus/gatilhos/f27_um.html">S</td>
<td>Nao</td>
<td>Altera</td>
<td>Real</td>
<td></td>
<td></td>
<td></td>
<td><a href="/tabelas_protheus/grupocampo/122.html">122</a></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>F27_UMDESC</td>
<td>Descrição</td>
<td colspan="2">Descrição Unidade Medida</td>
<td colspan="4">Descrição da unidade de media.
</td>
<td>C</td>
<td>40</td>
<td>0</td>
<td>@!                                           </td>
<td></td>
<td>If(!INCLUI,Posicione("SAH",1,xFilial("SAH")+FwFldGet("F27_UM"),"AH_UMRES"),"")</td>
<td><a href="/tabelas_protheus/f3/.html"></a></td>
<td> </td>
<td>Nao</td>
<td>Vizualiza</td>
<td>Virtual</td>
<td></td>
<td></td>
<td></td>
<td><a href="/tabelas_protheus/grupocampo/.html"></a></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>F27_ALTERA</td>
<td>Alterado</td>
<td colspan="2">Indicação de alteração</td>
<td colspan="4">Indica se o registro sofreu alterações.
Este campo tem propósito de auxiliar no
histórico de alterações do cadastro de
regra de base de calculo.
</td>
<td>C</td>
<td>1</td>
<td>0</td>
<td>@!                                           </td>
<td></td>
<td></td>
<td><a href="/tabelas_protheus/f3/.html"></a></td>
<td> </td>
<td>Nao</td>
<td>Altera</td>
<td>Real</td>
<td>1=Foi alterado;2=N�o foi Alterado</td>
<td></td>
<td></td>
<td><a href="/tabelas_protheus/grupocampo/.html"></a></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>F27_DTALT</td>
<td>Dt Alteração</td>
<td colspan="2">Data de alteração</td>
<td colspan="4">Campo com a data de alteração do
registro. O registro uma vez alterado
fica armazenado para histórico.
</td>
<td>D</td>
<td>8</td>
<td>0</td>
<td>                                             </td>
<td></td>
<td></td>
<td><a href="/tabelas_protheus/f3/.html"></a></td>
<td> </td>
<td>Nao</td>
<td>Altera</td>
<td>Real</td>
<td></td>
<td></td>
<td></td>
<td><a href="/tabelas_protheus/grupocampo/.html"></a></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>F27_HRALT</td>
<td>Hora Alt.</td>
<td colspan="2">Hora de alteração.</td>
<td colspan="4">Horário da alteração do registro. Irá
auxiliar no histórico de alterações.
</td>
<td>C</td>
<td>8</td>
<td>0</td>
<td>@!                                           </td>
<td></td>
<td></td>
<td><a href="/tabelas_protheus/f3/.html"></a></td>
<td> </td>
<td>Nao</td>
<td>Altera</td>
<td>Real</td>
<td></td>
<td></td>
<td></td>
<td><a href="/tabelas_protheus/grupocampo/.html"></a></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>F27_ID</td>
<td>Id</td>
<td colspan="2">Identificação do Cadastro</td>
<td colspan="4">ID do cadastro de base de cálculo
</td>
<td>C</td>
<td>36</td>
<td>0</td>
<td>@!                                           </td>
<td></td>
<td></td>
<td><a href="/tabelas_protheus/f3/.html"></a></td>
<td> </td>
<td>Nao</td>
<td>Altera</td>
<td>Real</td>
<td></td>
<td></td>
<td></td>
<td><a href="/tabelas_protheus/grupocampo/.html"></a></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>1</td>
<td>2</td>
</tr>
</table>
<br>
<hr>
<br>
<br><table border="1">
<tr>
<td colspan="5" align="center"><b><i>Relacionamentos(SX9)</i></b></td>
</tr>
<tr>
<td><b>X9_CDOM - Tabela Destino</b></td>
<td colspan="2"><b>X9_EXPDOM - Expressão Origem</b></td>
<td colspan="2"><b>X9_EXPCDOM - Expressão Destino</b></td>
</tr>
<tr>
<td>F2B</td>
<td colspan="2">F27_CODIGO</td>
<td colspan="2">F2B_RBASE</td>
</tr>
<tr>
<td>F2D</td>
<td colspan="2">F27_ID</td>
<td colspan="2">F2D_IDBASE</td>
</tr>
</center><br>
</script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-114930107-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date()); 
 gtag('config', 'UA-114930107-3'); 
</script>

</html>
